{"version":3,"file":"__output.js","sources":["list.spec.ts"],"sourcesContent":["import { createReactiveFileSystem, ReactiveFileSystem } from '@snoka/reactive'\nimport { join } from 'path'\n\nlet fs: ReactiveFileSystem\n\ndescribe('reactive fs: list()', () => {\n  beforeEach(async () => {\n    fs = await createReactiveFileSystem({\n      baseDir: join(__dirname, 'list-example'),\n      glob: ['**/*.js'],\n    })\n  })\n\n  test('scan for files', () => {\n    expect(fs.list().sort()).to.eql(['sub/waf.js', 'meow.js'].sort())\n  })\n\n  test('exclude sub directories', () => {\n    expect(fs.list('.', { excludeSubDirectories: true }).sort()).to.eql(['meow.js'].sort())\n  })\n\n  test('list sub directory', () => {\n    expect(fs.list('sub').sort()).to.eql(['sub/waf.js'].sort())\n  })\n\n  test('list is reactive', () => {\n    let results: string[] = []\n    fs.effect(() => {\n      results = fs.list('.', { excludeSubDirectories: true }).sort()\n    })\n    expect(results).to.eql(['meow.js'].sort())\n    fs.createFile('foo.js', '')\n    expect(results).to.eql(['meow.js', 'foo.js'].sort())\n    fs.files['foo.js'].remove()\n    expect(results).to.eql(['meow.js'].sort())\n  })\n})\n"],"names":["createReactiveFileSystem","join"],"mappings":";;;;;AAGA,IAAI,EAAA,CAAA;AAEJ,QAAA,CAAS,uBAAuB,MAAM;AACpC,EAAA,UAAA,CAAW,YAAY;AACrB,IAAA,EAAA,GAAK,MAAMA,iCAAyB,CAAA;AAAA,MAClC,OAAA,EAASC,SAAK,CAAA,SAAA,EAAW,cAAc,CAAA;AAAA,MACvC,IAAA,EAAM,CAAC,SAAS,CAAA;AAAA,KACjB,CAAA,CAAA;AAAA,GACF,CAAA,CAAA;AAED,EAAA,IAAA,CAAK,kBAAkB,MAAM;AAC3B,IAAA,MAAA,CAAO,EAAG,CAAA,IAAA,EAAO,CAAA,IAAA,EAAM,CAAA,CAAE,EAAG,CAAA,GAAA,CAAI,CAAC,YAAA,EAAc,SAAS,CAAA,CAAE,MAAM,CAAA,CAAA;AAAA,GACjE,CAAA,CAAA;AAED,EAAA,IAAA,CAAK,2BAA2B,MAAM;AACpC,IAAA,MAAA,CAAO,GAAG,IAAK,CAAA,GAAA,EAAK,EAAE,qBAAA,EAAuB,MAAM,CAAA,CAAE,IAAK,EAAC,EAAE,EAAG,CAAA,GAAA,CAAI,CAAC,SAAS,CAAA,CAAE,MAAM,CAAA,CAAA;AAAA,GACvF,CAAA,CAAA;AAED,EAAA,IAAA,CAAK,sBAAsB,MAAM;AAC/B,IAAA,MAAA,CAAO,EAAG,CAAA,IAAA,CAAK,KAAK,CAAA,CAAE,IAAK,EAAC,CAAE,CAAA,EAAA,CAAG,GAAI,CAAA,CAAC,YAAY,CAAA,CAAE,MAAM,CAAA,CAAA;AAAA,GAC3D,CAAA,CAAA;AAED,EAAA,IAAA,CAAK,oBAAoB,MAAM;AAC7B,IAAA,IAAI,UAAoB,EAAC,CAAA;AACzB,IAAA,EAAA,CAAG,OAAO,MAAM;AACd,MAAU,OAAA,GAAA,EAAA,CAAG,KAAK,GAAK,EAAA,EAAE,uBAAuB,IAAK,EAAC,EAAE,IAAK,EAAA,CAAA;AAAA,KAC9D,CAAA,CAAA;AACD,IAAO,MAAA,CAAA,OAAO,EAAE,EAAG,CAAA,GAAA,CAAI,CAAC,SAAS,CAAA,CAAE,MAAM,CAAA,CAAA;AACzC,IAAG,EAAA,CAAA,UAAA,CAAW,UAAU,EAAE,CAAA,CAAA;AAC1B,IAAO,MAAA,CAAA,OAAO,EAAE,EAAG,CAAA,GAAA,CAAI,CAAC,SAAW,EAAA,QAAQ,CAAE,CAAA,IAAA,EAAM,CAAA,CAAA;AACnD,IAAG,EAAA,CAAA,KAAA,CAAM,QAAQ,CAAA,CAAE,MAAO,EAAA,CAAA;AAC1B,IAAO,MAAA,CAAA,OAAO,EAAE,EAAG,CAAA,GAAA,CAAI,CAAC,SAAS,CAAA,CAAE,MAAM,CAAA,CAAA;AAAA,GAC1C,CAAA,CAAA;AACH,CAAC,CAAA;;"}